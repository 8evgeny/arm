<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_group___r_c_c___r_t_c___clock___configuration" xml:lang="en-US">
<title>RCC RTC Clock Configuration</title>
<indexterm><primary>RCC RTC Clock Configuration</primary></indexterm>
<simplesect>
    <title>Macros    </title>
        <itemizedlist>
            <listitem><para>#define <link linkend="_group___r_c_c___r_t_c___clock___configuration_1ga2d6c4c7e951bfd007d26988fbfe6eaa4">__HAL_RCC_RTC_CONFIG</link>(__RTC_CLKSOURCE__)   MODIFY_REG(RCC-&gt;BDCR, <link linkend="_group___peripheral___registers___bits___definition_1gabe30dbd38f6456990ee641648bc05d40">RCC_BDCR_RTCSEL</link>, (__RTC_CLKSOURCE__))</para>

<para>Macro to configure the RTC clock (RTCCLK). </para>
</listitem>
            <listitem><para>#define <link linkend="_group___r_c_c___r_t_c___clock___configuration_1gad40d00ff1c984ebd011ea9f6e7f93c44">__HAL_RCC_GET_RTC_SOURCE</link>()   (READ_BIT(RCC-&gt;BDCR, <link linkend="_group___peripheral___registers___bits___definition_1gabe30dbd38f6456990ee641648bc05d40">RCC_BDCR_RTCSEL</link>))</para>

<para>Macro to get the RTC clock source. </para>
</listitem>
            <listitem><para>#define <link linkend="_group___r_c_c___r_t_c___clock___configuration_1gab7cc36427c31da645a0e38e181f8ce0f">__HAL_RCC_RTC_ENABLE</link>()   (*(<link linkend="_core__sc300_8h_1aec43007d9998a0a0e01faede4133d6be">__IO</link> uint32_t *) RCC_BDCR_RTCEN_BB = ENABLE)</para>

<para>Macro to enable the the RTC clock. </para>
</listitem>
            <listitem><para>#define <link linkend="_group___r_c_c___r_t_c___clock___configuration_1gaab5eeb81fc9f0c8d4450069f7a751855">__HAL_RCC_RTC_DISABLE</link>()   (*(<link linkend="_core__sc300_8h_1aec43007d9998a0a0e01faede4133d6be">__IO</link> uint32_t *) RCC_BDCR_RTCEN_BB = DISABLE)</para>

<para>Macro to disable the the RTC clock. </para>
</listitem>
            <listitem><para>#define <link linkend="_group___r_c_c___r_t_c___clock___configuration_1ga3bf7da608ff985873ca8e248fb1dc4f0">__HAL_RCC_BACKUPRESET_FORCE</link>()   (*(<link linkend="_core__sc300_8h_1aec43007d9998a0a0e01faede4133d6be">__IO</link> uint32_t *) RCC_BDCR_BDRST_BB = ENABLE)</para>

<para>Macro to force the Backup domain reset. </para>
</listitem>
            <listitem><para><anchor xml:id="_group___r_c_c___r_t_c___clock___configuration_1ga14f32622c65f4ae239ba8cb00d510321"/>#define <link linkend="_group___r_c_c___r_t_c___clock___configuration_1ga14f32622c65f4ae239ba8cb00d510321">__HAL_RCC_BACKUPRESET_RELEASE</link>()   (*(<link linkend="_core__sc300_8h_1aec43007d9998a0a0e01faede4133d6be">__IO</link> uint32_t *) RCC_BDCR_BDRST_BB = DISABLE)</para>

<para>Macros to release the Backup domain reset. </para>
</listitem>
        </itemizedlist>
</simplesect>
<section>
<title>Detailed Description</title>
</section>
<section>
<title>Macro Definition Documentation</title>
<anchor xml:id="_group___r_c_c___r_t_c___clock___configuration_1ga3bf7da608ff985873ca8e248fb1dc4f0"/>    <section>
    <title>__HAL_RCC_BACKUPRESET_FORCE</title>
<indexterm><primary>__HAL_RCC_BACKUPRESET_FORCE</primary><secondary>RCC RTC Clock Configuration</secondary></indexterm>
<indexterm><primary>RCC RTC Clock Configuration</primary><secondary>__HAL_RCC_BACKUPRESET_FORCE</secondary></indexterm>
<para><computeroutput>#define __HAL_RCC_BACKUPRESET_FORCE( )   (*(<link linkend="_core__sc300_8h_1aec43007d9998a0a0e01faede4133d6be">__IO</link> uint32_t *) RCC_BDCR_BDRST_BB = ENABLE)</computeroutput></para><para>

<para>Macro to force the Backup domain reset. </para>
</para>

<para><note><title>Note</title>

<para>This function resets the RTC peripheral (including the backup registers) and the RTC clock source selection in RCC_BDCR register. </para>
</note>
</para>
    </section><anchor xml:id="_group___r_c_c___r_t_c___clock___configuration_1gad40d00ff1c984ebd011ea9f6e7f93c44"/>    <section>
    <title>__HAL_RCC_GET_RTC_SOURCE</title>
<indexterm><primary>__HAL_RCC_GET_RTC_SOURCE</primary><secondary>RCC RTC Clock Configuration</secondary></indexterm>
<indexterm><primary>RCC RTC Clock Configuration</primary><secondary>__HAL_RCC_GET_RTC_SOURCE</secondary></indexterm>
<para><computeroutput>#define __HAL_RCC_GET_RTC_SOURCE( )   (READ_BIT(RCC-&gt;BDCR, <link linkend="_group___peripheral___registers___bits___definition_1gabe30dbd38f6456990ee641648bc05d40">RCC_BDCR_RTCSEL</link>))</computeroutput></para><para>

<para>Macro to get the RTC clock source. </para>
</para>

<para>
                <formalpara>
                    <title>
Return values                    </title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
                                <entry>The</entry>
                                <entry>
<para>clock source can be one of the following values: <itemizedlist>
<listitem>
<para><link linkend="_group___r_c_c___r_t_c___clock___source_1gacce0b2f54d103340d8c3a218e86e295d">RCC_RTCCLKSOURCE_NO_CLK</link> No clock selected as RTC clock </para>
</listitem>
<listitem>
<para><link linkend="_group___r_c_c___r_t_c___clock___source_1ga5dca8d63f250a20bd6bc005670d0c150">RCC_RTCCLKSOURCE_LSE</link> LSE selected as RTC clock </para>
</listitem>
<listitem>
<para><link linkend="_group___r_c_c___r_t_c___clock___source_1gab47a1afb8b5eef9f20f4772961d0a5f4">RCC_RTCCLKSOURCE_LSI</link> LSI selected as RTC clock </para>
</listitem>
<listitem>
<para><link linkend="_group___r_c_c___r_t_c___clock___source_1ga7e022374ec3ceffa94e5bb6310c35c83">RCC_RTCCLKSOURCE_HSE_DIV128</link> HSE divided by 128 selected as RTC clock </para>
</listitem>
</itemizedlist>
</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                </para>
    </section><anchor xml:id="_group___r_c_c___r_t_c___clock___configuration_1ga2d6c4c7e951bfd007d26988fbfe6eaa4"/>    <section>
    <title>__HAL_RCC_RTC_CONFIG</title>
<indexterm><primary>__HAL_RCC_RTC_CONFIG</primary><secondary>RCC RTC Clock Configuration</secondary></indexterm>
<indexterm><primary>RCC RTC Clock Configuration</primary><secondary>__HAL_RCC_RTC_CONFIG</secondary></indexterm>
<para><computeroutput>#define __HAL_RCC_RTC_CONFIG( __RTC_CLKSOURCE__)   MODIFY_REG(RCC-&gt;BDCR, <link linkend="_group___peripheral___registers___bits___definition_1gabe30dbd38f6456990ee641648bc05d40">RCC_BDCR_RTCSEL</link>, (__RTC_CLKSOURCE__))</computeroutput></para><para>

<para>Macro to configure the RTC clock (RTCCLK). </para>
</para>

<para><note><title>Note</title>

<para>As the RTC clock configuration bits are in the Backup domain and write access is denied to this domain after reset, you have to enable write access using the Power Backup Access macro before to configure the RTC clock source (to be done once after reset). </para>

<para>Once the RTC clock is configured it can&apos;t be changed unless the Backup domain is reset using <link linkend="_group___r_c_c___r_t_c___clock___configuration_1ga3bf7da608ff985873ca8e248fb1dc4f0">__HAL_RCC_BACKUPRESET_FORCE()</link> macro, or by a Power On Reset (POR).</para>
</note>

                <formalpara>
                    <title>
Parameters                    </title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
                                <entry>&lt;strong&gt;RTC_CLKSOURCE&lt;/strong&gt;</entry>
                                <entry>
<para>specifies the RTC clock source. This parameter can be one of the following values: <itemizedlist>
<listitem>
<para><link linkend="_group___r_c_c___r_t_c___clock___source_1gacce0b2f54d103340d8c3a218e86e295d">RCC_RTCCLKSOURCE_NO_CLK</link> No clock selected as RTC clock </para>
</listitem>
<listitem>
<para><link linkend="_group___r_c_c___r_t_c___clock___source_1ga5dca8d63f250a20bd6bc005670d0c150">RCC_RTCCLKSOURCE_LSE</link> LSE selected as RTC clock </para>
</listitem>
<listitem>
<para><link linkend="_group___r_c_c___r_t_c___clock___source_1gab47a1afb8b5eef9f20f4772961d0a5f4">RCC_RTCCLKSOURCE_LSI</link> LSI selected as RTC clock </para>
</listitem>
<listitem>
<para><link linkend="_group___r_c_c___r_t_c___clock___source_1ga7e022374ec3ceffa94e5bb6310c35c83">RCC_RTCCLKSOURCE_HSE_DIV128</link> HSE divided by 128 selected as RTC clock </para>
</listitem>
</itemizedlist>
</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <note><title>Note</title>

<para>If the LSE or LSI is used as RTC clock source, the RTC continues to work in STOP and STANDBY modes, and can be used as wakeup source. However, when the HSE clock is used as RTC clock source, the RTC cannot be used in STOP and STANDBY modes. </para>

<para>The maximum input clock frequency for RTC is 1MHz (when using HSE as RTC clock source). </para>
</note>
</para>
    </section><anchor xml:id="_group___r_c_c___r_t_c___clock___configuration_1gaab5eeb81fc9f0c8d4450069f7a751855"/>    <section>
    <title>__HAL_RCC_RTC_DISABLE</title>
<indexterm><primary>__HAL_RCC_RTC_DISABLE</primary><secondary>RCC RTC Clock Configuration</secondary></indexterm>
<indexterm><primary>RCC RTC Clock Configuration</primary><secondary>__HAL_RCC_RTC_DISABLE</secondary></indexterm>
<para><computeroutput>#define __HAL_RCC_RTC_DISABLE( )   (*(<link linkend="_core__sc300_8h_1aec43007d9998a0a0e01faede4133d6be">__IO</link> uint32_t *) RCC_BDCR_RTCEN_BB = DISABLE)</computeroutput></para><para>

<para>Macro to disable the the RTC clock. </para>
</para>

<para><note><title>Note</title>

<para>These macros must be used only after the RTC clock source was selected. </para>
</note>
</para>
    </section><anchor xml:id="_group___r_c_c___r_t_c___clock___configuration_1gab7cc36427c31da645a0e38e181f8ce0f"/>    <section>
    <title>__HAL_RCC_RTC_ENABLE</title>
<indexterm><primary>__HAL_RCC_RTC_ENABLE</primary><secondary>RCC RTC Clock Configuration</secondary></indexterm>
<indexterm><primary>RCC RTC Clock Configuration</primary><secondary>__HAL_RCC_RTC_ENABLE</secondary></indexterm>
<para><computeroutput>#define __HAL_RCC_RTC_ENABLE( )   (*(<link linkend="_core__sc300_8h_1aec43007d9998a0a0e01faede4133d6be">__IO</link> uint32_t *) RCC_BDCR_RTCEN_BB = ENABLE)</computeroutput></para><para>

<para>Macro to enable the the RTC clock. </para>
</para>

<para><note><title>Note</title>

<para>These macros must be used only after the RTC clock source was selected. </para>
</note>
</para>
</section>
</section>
</section>
